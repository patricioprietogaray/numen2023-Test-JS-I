<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- <script>
        
        function saludar( saludo ){
            return function( nombre ){
                console.log(`Closure 1: ${saludo} ${nombre}`);
            }
        }
        var saludoHola = saludar('Hola'); // Esto devuelve una función
        saludoHola('Numen'); // 'Hola Numen'


        function texto1(texto1) {
            return function(texto2){
                console.log("Closure 2: En el "+texto1 + " hay "+texto2 );
            }
        }

        let textos = texto1('cielo');
        textos('estrellas');


        ////
        function hacerSaludo(idioma){
            if (idioma === 'es'){
                return function() {
                    console.log("Closure3: Hola, yo hablo en español!");
                }
            }

            if (idioma === 'en'){
                return function () {
                    console.log("Closure 3: Hello, i speak in English!");
                }
            }
        }

        let esp = hacerSaludo('es');
        let ing = hacerSaludo('en');

        //llamar a una funcion vacia que es retornada en el closure
        ing();
        esp();

        
        //// dilema del contador
        // variable global con funcion que suma a la variable global
        let contador=0;

        const suma = () => {
           return contador+= 1;
        }
        
        suma();
        console.log(contador);
        suma();
        console.log(contador);
        suma();
        console.log(contador);

        // misma funcion con más seguridad con closures
        const adicion = () => {
            //seteo en cero
            let contador = 0;
            return function ()  {
                //suma en 1 al contador y retorna
                //sigue almacenado el valor del contador en memoria
                contador+=1;
                return contador;
            }
        }

        // el contador retornado se acumula en mostrarAcumulado
        const mostrarAcumulado = adicion();
        console.log(mostrarAcumulado());
        console.log(mostrarAcumulado());
        console.log(mostrarAcumulado());

        // this
        const objeto = {
            nombre: "Contexto del Objeto",
            imprimir: function () {
                console.log(this.nombre);
            }
        }
        objeto.imprimir();

        const objeto2 = {
            nombre: "Contexto del Objeto 2",
            imprimir: objeto.imprimir()
        }
        objeto2.imprimir;

        //funcion constructora no devuelve nada o crea explicitamente un objeto
        // solo define propiedades y metodos.

        //Seudo clase
        // function Jedi() {
            // this.arma = "Sable de luz";
            // this.poder = "La fuerza";
        // }
        
        //Creacion de instancias new funcion()
        //funcion constructora
        // let jedi = new Jedi();
        // console.log(jedi);
        // console.log("Desenfunda el "+jedi.arma+"!");

        //funcion constructora
        function Jedi(arma, poder) {
            //Atributos
            this.arma = arma;
            this.poder = poder;

            //Métodos
            this.hablar = function () {
                console.log("Que la fuerza te acompañe");
            }
        }

        // instancio la funcion Jedi
        let yoda = new Jedi("Sable de luz", "La fuerza");

        //defino en el prototipo una funcion que estará
        //disponible en todas las instancias futuras
        Jedi.prototype.susurrar = function () {
            console.log("Usa la fuerza Luke");
        }

        console.log(yoda);
        console.log(yoda.arma);
        console.log(yoda.poder);
        yoda.hablar();
        yoda.susurrar();
        
        //////////
        //clases

        //nombre sin parentesis
        class Jedii {
            //constructor se le pasan los argumentos
            constructor (nombre, raza) {
                //definicion de los atributos que tendrá 
                // la clase.
                this.nombre = nombre,
                this.raza = raza
            }

            //método
            saludar() {
                console.log("Hola! "+ this.nombre);
            }
        }

        let yodaa = new Jedii("Yoda", "Desconocida");
        console.log("Yodaa: Su nombre: "+yodaa.nombre);
        console.log("Yodaa: Su raza: "+yodaa.raza);
        yodaa.saludar();

        // diapo 21 del 306-6

        function Perro(nombre, raza, color) {
            this.nombre = nombre;
            this.raza = raza;
            this.color = color;
        }

        Perro.prototype.ladra = function () {
            return "Woof!";
        }

        let firulais = new Perro("Firulais", "callejero", "marron");
        console.log(firulais.nombre);
        console.log(firulais.raza);
        console.log(firulais.color);
        console.log(firulais.ladra());

        class Can {
            constructor(nombre, raza, color) {
                this.nombre = nombre;
                this.raza = raza;
                this.color = color;
            }

            ladra() {
                return "Guau!";
            }
        }

        let pichichu = new Can("Pichichu", "callejero", "blanco");
        console.log(pichichu.nombre);
        console.log(pichichu.raza);
        console.log(pichichu.color);
        console.log(pichichu.ladra());
        
    </script> -->

    <script>

        function crearUsuario(dato) {
            // console.log(dato);
            class Usuario {
                constructor(dato) {
                    this.usuario = dato.usuario;
                    this.nombre = dato.nombre;
                    this.email = dato.email;
                    this.password = dato.password;
                }
                saludar() {
                    return `Hola, mi nombre es ${this.nombre}`;
                }
            }
            return Usuario;
        }

       

        const Usuario = crearUsuario();
        // console.log(Usuario);
        const usua = new Usuario({usuario:'Pprieto', nombre: 'pato', email: 'p@p.net', password: 'pepe'});
        console.log(usua);
        // const user = new Usuario({usuario: 'jssamuel', nombre: 'Samuel', email: 'samuel@email.com', password: 'LoveJS' });
        // console.log(usua.);
    </script>
</body>
</html>